<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <title>Add Expense</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link th:href="@{/style.css}" rel="stylesheet">
</head>

<body>

<!-- NAVBAR -->
<div class="nav">
    <div class="brand">
        <div class="logo">ES</div>
        <div class="app-name">Expense Splitter</div>
    </div>
    <div class="nav-right">
        <a th:href="@{/DASHBOARD}">Dashboard</a>
        <div class="profile-chip" th:text="${detail}">User</div>
    </div>
</div>

<div class="container">
    <div class="card" style="max-width:720px;margin:18px auto">
        <h3 style="margin-top:0">Add Expense</h3>

        <!-- FORM -->
        <form th:action="@{'/addexpenses/'+${group_name}}" method="post">

            <!-- DESCRIPTION -->
            <label class="small">Description</label>
            <input class="input"
                   type="text"
                   name="description"
                   placeholder="e.g., Pizza"
                   required />

            <!-- AMOUNT -->
            <label class="small">Amount</label>
            <input class="input"
                   type="number"
                   name="amount"
                   placeholder="Enter amount"
                   step="0.01"
                   required />

            <!-- PAID BY -->
            <label class="small">Paid by</label>
            <select class="input" name="email1" required>
                <option value="">-- Select Member --</option>

                <!-- users list from controller -->
                <option th:each="member : ${members}"
                        th:value="${member.email}"
                        th:text="${member.name}">
                    Member
                </option>
            </select>
<!--            who paid-->
            <label class="small">Split Between</label>
            <div class="member-list" style="margin-top:10px">
                <div th:each="member: ${members}" class="member-tag">
                    <label>
                        <input type="checkbox"
                               name="splits"
                               th:value="${member.email}" />
                        <span th:text="${member.name}">Name</span>
                    </label>
                </div>
            </div>




            <!-- INFO -->
            <p style="margin-top:10px;color:var(--muted);font-size:13px">
                Expense will be split equally among all group members.
            </p>

            <!-- BUTTONS -->
            <div style="margin-top:18px;display:flex;gap:10px">
                <button type="submit" class="primary-btn">
                    Add Expense
                </button>

                <a th:href="@{/group/{id}(id=${group_name})}"
                   class="primary-btn"
                   style="background:#fff;color:var(--primary);
                          border:1px solid rgba(90,103,216,0.12);
                          text-decoration:none;
                          padding:10px 12px;">
                    Cancel
                </a>
            </div>

        </form>

        <!-- MESSAGE -->
        <div id="msg"
             style="margin-top:12px;color:var(--muted)"
             th:text="${msg}">
        </div>
    </div>
</div>

</body>
</html>

